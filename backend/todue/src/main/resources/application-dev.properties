# ===========================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# ===========================================

# Database Connection - Development
# Uses localhost - works with either:
#   1. SSH tunnel: ssh -L 3306:10.108.0.3:3306 root@104.131.179.3
#   2. Local MySQL instance with td_db database
spring.datasource.url=${DB_URL}
spring.datasource.username=td_dev

# JPA/Hibernate - Development Settings
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Logging - Verbose for development
logging.level.root=INFO
logging.level.com.ethan.todue=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# Suppress intentional AuthenticationProvider warning
logging.level.org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer=ERROR
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %highlight(%-5level) %cyan(%logger{36}) - %msg%n

# WebSocket CORS - Allow local development
websocket.allowed-origins=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:3000

# CORS Configuration for REST APIs (development)
cors.allowed-origins=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:3000

# Connection Pool - Smaller for development
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2

# Actuator - Enable for development monitoring (optional)
management.endpoints.enabled-by-default=false
management.endpoint.health.enabled=true
management.endpoint.info.enabled=true

# Email Configuration (Resend)
app.url=http://localhost:5173

# Development-specific features
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# Error details in responses (development only!)
server.error.include-message=always
server.error.include-binding-errors=always
# Only include trace if ?trace=true is added to URL
server.error.include-stacktrace=on_param
# Don't expose exception class names to clients
server.error.include-exception=false
